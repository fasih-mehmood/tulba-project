var profile,logo,empPage;function error(message){Swal.fire({icon:"error",title:"Oops...",confirmButtonColor:"#000",text:message})}function fasterPreview(uploader){uploader.files&&uploader.files[0]&&$("#js--profileImage").attr("src",window.URL.createObjectURL(uploader.files[0])),profile=uploader.files[0]}function fasterPreview2(uploader){uploader.files&&uploader.files[0]&&($("#js--logoImage").attr("src",window.URL.createObjectURL(uploader.files[0])),logo=uploader.files[0])}empPage="emp-body"==document.body.getAttribute("class"),$("#js--profile-container").click((function(e){$("#imageUpload").click()})),$("#imageUpload").change((function(){fasterPreview(this)})),$("#js--logo-container").click((function(e){$("#logoUpload").click()})),$("#logoUpload").change((function(){fasterPreview2(this)}));const signupForm=document.querySelector("#signupForm");signupForm.addEventListener("submit",e=>{e.preventDefault();const email=signupForm.emailAddress.value,password=signupForm.password.value;auth.createUserWithEmailAndPassword(email,password).then(cred=>{var storage=storageRef.child("users/"+email);return storage.put(profile),empPage?((storage=storageRef.child("logos/"+email+"logo")).put(logo),db.collection("users").doc(email).set({fullName:signupForm.fullName.value,fathersName:signupForm.fathersName.value,address:signupForm.homeAddress.value,dob:signupForm.dateOfBirth.value,gender:signupForm.gender.value,phone:parseInt(signupForm.phone.value,10),uniName:signupForm.institute.value,major:signupForm.discipline.value,gradYear:parseInt(signupForm.year.value,10),experiences:signupForm.experiences.value,companyName:signupForm.companyName.value,companyAddress:signupForm.companyAddress.value,companyEmail:signupForm.companyEmail.value,yearEstablished:parseInt(signupForm.yearEstablished.value,10),position:signupForm.position.value,employees:parseInt(signupForm.employees.value,10),isEmp:!0,jobs:0})):db.collection("users").doc(email).set({fullName:signupForm.fullName.value,fathersName:signupForm.fatherName.value,address:signupForm.homeAddress.value,dob:signupForm.dateOfBirth.value,gender:signupForm.gender.value,phone:parseInt(signupForm.phone.value,10),schoolEmail:signupForm.uniEmail.value,linkedIn:signupForm.linkedIn.value,uniName:signupForm.uniName.value,majSub:signupForm.majSub.value,degreeStat:signupForm.degreeStat.value,gradYear:parseInt(signupForm.year.value,10),cgpa:parseFloat(signupForm.cgpa.value),skills:signupForm.skills.value,isEmp:!1})}).then(()=>{document.forms[0].style.display="none",Swal.fire({icon:"success",title:"Registered Successfully",confirmButtonColor:"green",text:"Congratulations on successfully registering on Tulba"}).then((function(){window.location.href="profile.html"}))}).catch(err=>{error(err.message)})});